<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />

<meta name="author" content="mja@statgroup.dk" />

<meta name="date" content="2015-02-23" />

<title>Create DM table as csv file</title>



<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; }
code > span.dt { color: #902000; }
code > span.dv { color: #40a070; }
code > span.bn { color: #40a070; }
code > span.fl { color: #40a070; }
code > span.ch { color: #4070a0; }
code > span.st { color: #4070a0; }
code > span.co { color: #60a0b0; font-style: italic; }
code > span.ot { color: #007020; }
code > span.al { color: #ff0000; font-weight: bold; }
code > span.fu { color: #06287e; }
code > span.er { color: #ff0000; font-weight: bold; }
</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>


<link href="data:text/css,body%20%7B%0A%20%20background%2Dcolor%3A%20%23fff%3B%0A%20%20margin%3A%201em%20auto%3B%0A%20%20max%2Dwidth%3A%20700px%3B%0A%20%20overflow%3A%20visible%3B%0A%20%20padding%2Dleft%3A%202em%3B%0A%20%20padding%2Dright%3A%202em%3B%0A%20%20font%2Dfamily%3A%20%22Open%20Sans%22%2C%20%22Helvetica%20Neue%22%2C%20Helvetica%2C%20Arial%2C%20sans%2Dserif%3B%0A%20%20font%2Dsize%3A%2014px%3B%0A%20%20line%2Dheight%3A%201%2E35%3B%0A%7D%0A%0A%23header%20%7B%0A%20%20text%2Dalign%3A%20center%3B%0A%7D%0A%0A%23TOC%20%7B%0A%20%20clear%3A%20both%3B%0A%20%20margin%3A%200%200%2010px%2010px%3B%0A%20%20padding%3A%204px%3B%0A%20%20width%3A%20400px%3B%0A%20%20border%3A%201px%20solid%20%23CCCCCC%3B%0A%20%20border%2Dradius%3A%205px%3B%0A%0A%20%20background%2Dcolor%3A%20%23f6f6f6%3B%0A%20%20font%2Dsize%3A%2013px%3B%0A%20%20line%2Dheight%3A%201%2E3%3B%0A%7D%0A%20%20%23TOC%20%2Etoctitle%20%7B%0A%20%20%20%20font%2Dweight%3A%20bold%3B%0A%20%20%20%20font%2Dsize%3A%2015px%3B%0A%20%20%20%20margin%2Dleft%3A%205px%3B%0A%20%20%7D%0A%0A%20%20%23TOC%20ul%20%7B%0A%20%20%20%20padding%2Dleft%3A%2040px%3B%0A%20%20%20%20margin%2Dleft%3A%20%2D1%2E5em%3B%0A%20%20%20%20margin%2Dtop%3A%205px%3B%0A%20%20%20%20margin%2Dbottom%3A%205px%3B%0A%20%20%7D%0A%20%20%23TOC%20ul%20ul%20%7B%0A%20%20%20%20margin%2Dleft%3A%20%2D2em%3B%0A%20%20%7D%0A%20%20%23TOC%20li%20%7B%0A%20%20%20%20line%2Dheight%3A%2016px%3B%0A%20%20%7D%0A%0Atable%20%7B%0A%20%20margin%3A%201em%20auto%3B%0A%20%20border%2Dwidth%3A%201px%3B%0A%20%20border%2Dcolor%3A%20%23DDDDDD%3B%0A%20%20border%2Dstyle%3A%20outset%3B%0A%20%20border%2Dcollapse%3A%20collapse%3B%0A%7D%0Atable%20th%20%7B%0A%20%20border%2Dwidth%3A%202px%3B%0A%20%20padding%3A%205px%3B%0A%20%20border%2Dstyle%3A%20inset%3B%0A%7D%0Atable%20td%20%7B%0A%20%20border%2Dwidth%3A%201px%3B%0A%20%20border%2Dstyle%3A%20inset%3B%0A%20%20line%2Dheight%3A%2018px%3B%0A%20%20padding%3A%205px%205px%3B%0A%7D%0Atable%2C%20table%20th%2C%20table%20td%20%7B%0A%20%20border%2Dleft%2Dstyle%3A%20none%3B%0A%20%20border%2Dright%2Dstyle%3A%20none%3B%0A%7D%0Atable%20thead%2C%20table%20tr%2Eeven%20%7B%0A%20%20background%2Dcolor%3A%20%23f7f7f7%3B%0A%7D%0A%0Ap%20%7B%0A%20%20margin%3A%200%2E5em%200%3B%0A%7D%0A%0Ablockquote%20%7B%0A%20%20background%2Dcolor%3A%20%23f6f6f6%3B%0A%20%20padding%3A%200%2E25em%200%2E75em%3B%0A%7D%0A%0Ahr%20%7B%0A%20%20border%2Dstyle%3A%20solid%3B%0A%20%20border%3A%20none%3B%0A%20%20border%2Dtop%3A%201px%20solid%20%23777%3B%0A%20%20margin%3A%2028px%200%3B%0A%7D%0A%0Adl%20%7B%0A%20%20margin%2Dleft%3A%200%3B%0A%7D%0A%20%20dl%20dd%20%7B%0A%20%20%20%20margin%2Dbottom%3A%2013px%3B%0A%20%20%20%20margin%2Dleft%3A%2013px%3B%0A%20%20%7D%0A%20%20dl%20dt%20%7B%0A%20%20%20%20font%2Dweight%3A%20bold%3B%0A%20%20%7D%0A%0Aul%20%7B%0A%20%20margin%2Dtop%3A%200%3B%0A%7D%0A%20%20ul%20li%20%7B%0A%20%20%20%20list%2Dstyle%3A%20circle%20outside%3B%0A%20%20%7D%0A%20%20ul%20ul%20%7B%0A%20%20%20%20margin%2Dbottom%3A%200%3B%0A%20%20%7D%0A%0Apre%2C%20code%20%7B%0A%20%20background%2Dcolor%3A%20%23f7f7f7%3B%0A%20%20border%2Dradius%3A%203px%3B%0A%20%20color%3A%20%23333%3B%0A%7D%0Apre%20%7B%0A%20%20white%2Dspace%3A%20pre%2Dwrap%3B%20%20%20%20%2F%2A%20Wrap%20long%20lines%20%2A%2F%0A%20%20border%2Dradius%3A%203px%3B%0A%20%20margin%3A%205px%200px%2010px%200px%3B%0A%20%20padding%3A%2010px%3B%0A%7D%0Apre%3Anot%28%5Bclass%5D%29%20%7B%0A%20%20background%2Dcolor%3A%20%23f7f7f7%3B%0A%7D%0A%0Acode%20%7B%0A%20%20font%2Dfamily%3A%20Consolas%2C%20Monaco%2C%20%27Courier%20New%27%2C%20monospace%3B%0A%20%20font%2Dsize%3A%2085%25%3B%0A%7D%0Ap%20%3E%20code%2C%20li%20%3E%20code%20%7B%0A%20%20padding%3A%202px%200px%3B%0A%7D%0A%0Adiv%2Efigure%20%7B%0A%20%20text%2Dalign%3A%20center%3B%0A%7D%0Aimg%20%7B%0A%20%20background%2Dcolor%3A%20%23FFFFFF%3B%0A%20%20padding%3A%202px%3B%0A%20%20border%3A%201px%20solid%20%23DDDDDD%3B%0A%20%20border%2Dradius%3A%203px%3B%0A%20%20border%3A%201px%20solid%20%23CCCCCC%3B%0A%20%20margin%3A%200%205px%3B%0A%7D%0A%0Ah1%20%7B%0A%20%20margin%2Dtop%3A%200%3B%0A%20%20font%2Dsize%3A%2035px%3B%0A%20%20line%2Dheight%3A%2040px%3B%0A%7D%0A%0Ah2%20%7B%0A%20%20border%2Dbottom%3A%204px%20solid%20%23f7f7f7%3B%0A%20%20padding%2Dtop%3A%2010px%3B%0A%20%20padding%2Dbottom%3A%202px%3B%0A%20%20font%2Dsize%3A%20145%25%3B%0A%7D%0A%0Ah3%20%7B%0A%20%20border%2Dbottom%3A%202px%20solid%20%23f7f7f7%3B%0A%20%20padding%2Dtop%3A%2010px%3B%0A%20%20font%2Dsize%3A%20120%25%3B%0A%7D%0A%0Ah4%20%7B%0A%20%20border%2Dbottom%3A%201px%20solid%20%23f7f7f7%3B%0A%20%20margin%2Dleft%3A%208px%3B%0A%20%20font%2Dsize%3A%20105%25%3B%0A%7D%0A%0Ah5%2C%20h6%20%7B%0A%20%20border%2Dbottom%3A%201px%20solid%20%23ccc%3B%0A%20%20font%2Dsize%3A%20105%25%3B%0A%7D%0A%0Aa%20%7B%0A%20%20color%3A%20%230033dd%3B%0A%20%20text%2Ddecoration%3A%20none%3B%0A%7D%0A%20%20a%3Ahover%20%7B%0A%20%20%20%20color%3A%20%236666ff%3B%20%7D%0A%20%20a%3Avisited%20%7B%0A%20%20%20%20color%3A%20%23800080%3B%20%7D%0A%20%20a%3Avisited%3Ahover%20%7B%0A%20%20%20%20color%3A%20%23BB00BB%3B%20%7D%0A%20%20a%5Bhref%5E%3D%22http%3A%22%5D%20%7B%0A%20%20%20%20text%2Ddecoration%3A%20underline%3B%20%7D%0A%20%20a%5Bhref%5E%3D%22https%3A%22%5D%20%7B%0A%20%20%20%20text%2Ddecoration%3A%20underline%3B%20%7D%0A%0A%2F%2A%20Class%20described%20in%20https%3A%2F%2Fbenjeffrey%2Ecom%2Fposts%2Fpandoc%2Dsyntax%2Dhighlighting%2Dcss%0A%20%20%20Colours%20from%20https%3A%2F%2Fgist%2Egithub%2Ecom%2Frobsimmons%2F1172277%20%2A%2F%0A%0Acode%20%3E%20span%2Ekw%20%7B%20color%3A%20%23555%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%2F%2A%20Keyword%20%2A%2F%0Acode%20%3E%20span%2Edt%20%7B%20color%3A%20%23902000%3B%20%7D%20%2F%2A%20DataType%20%2A%2F%0Acode%20%3E%20span%2Edv%20%7B%20color%3A%20%2340a070%3B%20%7D%20%2F%2A%20DecVal%20%28decimal%20values%29%20%2A%2F%0Acode%20%3E%20span%2Ebn%20%7B%20color%3A%20%23d14%3B%20%7D%20%2F%2A%20BaseN%20%2A%2F%0Acode%20%3E%20span%2Efl%20%7B%20color%3A%20%23d14%3B%20%7D%20%2F%2A%20Float%20%2A%2F%0Acode%20%3E%20span%2Ech%20%7B%20color%3A%20%23d14%3B%20%7D%20%2F%2A%20Char%20%2A%2F%0Acode%20%3E%20span%2Est%20%7B%20color%3A%20%23d14%3B%20%7D%20%2F%2A%20String%20%2A%2F%0Acode%20%3E%20span%2Eco%20%7B%20color%3A%20%23888888%3B%20font%2Dstyle%3A%20italic%3B%20%7D%20%2F%2A%20Comment%20%2A%2F%0Acode%20%3E%20span%2Eot%20%7B%20color%3A%20%23007020%3B%20%7D%20%2F%2A%20OtherToken%20%2A%2F%0Acode%20%3E%20span%2Eal%20%7B%20color%3A%20%23ff0000%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%2F%2A%20AlertToken%20%2A%2F%0Acode%20%3E%20span%2Efu%20%7B%20color%3A%20%23900%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%2F%2A%20Function%20calls%20%2A%2F%20%0Acode%20%3E%20span%2Eer%20%7B%20color%3A%20%23a61717%3B%20background%2Dcolor%3A%20%23e3d2d2%3B%20%7D%20%2F%2A%20ErrorTok%20%2A%2F%0A%0A" rel="stylesheet" type="text/css" />

</head>

<body>



<div id="header">
<h1 class="title">Create DM table as csv file</h1>
<h4 class="author"><em><a href="mailto:mja@statgroup.dk">mja@statgroup.dk</a></em></h4>
<h4 class="date"><em>2015-02-23</em></h4>
</div>


<div id="create-dm-sample-table-as-csv-file-and-other-files" class="section level1">
<h1>Create DM sample table as CSV file and other files</h1>
<p>This script creates the result and codelist for a simple DM table.</p>
<div id="get-the-data-and-prepare-for-derivation-of-summary-statistics" class="section level2">
<h2>Get the data and prepare for derivation of summary statistics</h2>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(devtools)

<span class="kw">library</span>(foreign)
<span class="kw">library</span>(sqldf)

xptdirectory&lt;-<span class="st"> </span><span class="kw">tempdir</span>()

fnadsl&lt;-<span class="st"> </span><span class="kw">paste</span>(xptdirectory,<span class="st">&quot;/&quot;</span>, <span class="st">&quot;adsl&quot;</span>, <span class="st">&quot;.xpt&quot;</span>,<span class="dt">sep=</span><span class="st">&quot;&quot;</span>)

<span class="kw">download.file</span>(<span class="st">&quot;http://phuse-scripts.googlecode.com/svn/trunk/scriptathon2014/data/adsl.xpt&quot;</span>, fnadsl)

adsl&lt;-<span class="st"> </span><span class="kw">read.xport</span>(fnadsl)
adsl$TRT01A&lt;-<span class="st"> </span><span class="kw">as.character</span>(adsl$TRT01A)
adsl$RACE&lt;-<span class="st"> </span><span class="kw">as.character</span>(adsl$RACE)
adsl$SAFFL&lt;-<span class="st"> </span><span class="kw">as.character</span>(adsl$SAFFL)
adsl$SEX&lt;-<span class="st"> </span><span class="kw">as.character</span>(adsl$SEX)

## SASxport package maps characters and dates etc into more R like data type
## install.packages(&quot;SASxport&quot;)
## library(SASxport)
## adsl&lt;- as.data.frame(read.xport(fnadsl,as.is=TRUE))
## str(adsl)</code></pre>
</div>
<div id="create-frame-for-cube-from-an-existing-rdf-data-cube" class="section level2">
<h2>Create frame for cube from an existing RDF data cube</h2>
<p>The code input a turtle file with an RDF data cube. SQL statements for calculating the measurements are derived from the cube, and used to derive the summary statistics. Note: the SQL statements does not show records where the combination of values lead to 0 observations. This is handled below, in a not so clever way. A better approach would be to include the concept of a skeleton in the SQL statements.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(rrdfqbcrnd0)

dataCubeFile&lt;-<span class="st"> </span><span class="kw">system.file</span>(<span class="st">&quot;extdata/sample-rdf&quot;</span>, <span class="st">&quot;DC-DM-sample.TTL&quot;</span>, <span class="dt">package=</span><span class="st">&quot;rrdfqbcrnd0&quot;</span>)
checkCube &lt;-<span class="st"> </span><span class="kw">new.rdf</span>(<span class="dt">ontology=</span><span class="ot">FALSE</span>)  <span class="co"># Initialize</span>
<span class="kw">load.rdf</span>(dataCubeFile, <span class="dt">format=</span><span class="st">&quot;TURTLE&quot;</span>, <span class="dt">appendTo=</span> checkCube)
<span class="kw">summarize.rdf</span>(checkCube)</code></pre>
<p>[1] “Number of triples: 1192”</p>
<pre class="sourceCode r"><code class="sourceCode r">stmtSQL&lt;-<span class="st"> </span><span class="kw">GetSQLFromCube</span>(checkCube) 

<span class="kw">cat</span>(stmtSQL$summStatSQL) </code></pre>
<p>SELECT a.TRT01A, ‘<em>ALL</em>’ as RACE, a.SEX, a.SAFFL, ‘count’ as procedure, ‘quantity’ as factor, ‘<em>ALL</em>’ as denominator, ‘<em>NULL</em>’ as unit, count(<em>) as measure from adsl as a group by a.TRT01A, a.SEX, a.SAFFL UNION SELECT a.TRT01A, ‘<em>ALL</em>’ as RACE, ‘<em>ALL</em>’ as SEX, a.SAFFL, ‘mean’ as procedure, ‘WEIGHTBL’ as factor, ‘<em>NULL</em>’ as denominator, ‘KG’ as unit, avg(WEIGHTBL) as measure from adsl as a group by a.TRT01A, a.SAFFL UNION SELECT a.TRT01A, ‘<em>ALL</em>’ as RACE, ‘<em>ALL</em>’ as SEX, a.SAFFL, ‘max’ as procedure, ‘WEIGHTBL’ as factor, ‘<em>NULL</em>’ as denominator, ‘KG’ as unit, max(WEIGHTBL) as measure from adsl as a group by a.TRT01A, a.SAFFL UNION SELECT a.TRT01A, ‘<em>ALL</em>’ as RACE, ‘<em>ALL</em>’ as SEX, a.SAFFL, ‘max’ as procedure, ‘AGE’ as factor, ‘<em>NULL</em>’ as denominator, ‘YEARS’ as unit, max(AGE) as measure from adsl as a group by a.TRT01A, a.SAFFL UNION SELECT a.TRT01A, ‘<em>ALL</em>’ as RACE, ‘<em>ALL</em>’ as SEX, a.SAFFL, ‘median’ as procedure, ‘WEIGHTBL’ as factor, ‘<em>NULL</em>’ as denominator, ‘KG’ as unit, median(WEIGHTBL) as measure from adsl as a group by a.TRT01A, a.SAFFL UNION SELECT a.TRT01A, a.RACE, ‘<em>ALL</em>’ as SEX, a.SAFFL, ‘count’ as procedure, ‘quantity’ as factor, ‘<em>ALL</em>’ as denominator, ‘<em>NULL</em>’ as unit, count(</em>) as measure from adsl as a group by a.TRT01A, a.RACE, a.SAFFL UNION SELECT a.TRT01A, b.RACE, ‘<em>ALL</em>’ as SEX, a.SAFFL, ‘percent’ as procedure, ‘proportion’ as factor, ‘RACE’ as denominator, ‘<em>NULL</em>’ as unit, 100<em>avg(a.RACE=b.RACE) as measure from adsl as a , (select distinct RACE from adsl) as b group by a.TRT01A, b.RACE, a.SAFFL UNION SELECT a.TRT01A, ‘<em>ALL</em>’ as RACE, ‘<em>ALL</em>’ as SEX, a.SAFFL, ‘stdev’ as procedure, ‘AGE’ as factor, ‘<em>NULL</em>’ as denominator, ‘YEARS’ as unit, stdev(AGE) as measure from adsl as a group by a.TRT01A, a.SAFFL UNION SELECT a.TRT01A, ‘<em>ALL</em>’ as RACE, ‘<em>ALL</em>’ as SEX, a.SAFFL, ‘min’ as procedure, ‘AGE’ as factor, ‘<em>NULL</em>’ as denominator, ‘YEARS’ as unit, min(AGE) as measure from adsl as a group by a.TRT01A, a.SAFFL UNION SELECT a.TRT01A, ‘<em>ALL</em>’ as RACE, b.SEX, a.SAFFL, ‘percent’ as procedure, ‘proportion’ as factor, ‘SEX’ as denominator, ‘<em>NULL</em>’ as unit, 100</em>avg(a.SEX=b.SEX) as measure from adsl as a , (select distinct SEX from adsl) as b group by a.TRT01A, b.SEX, a.SAFFL UNION SELECT a.TRT01A, ‘<em>ALL</em>’ as RACE, ‘<em>ALL</em>’ as SEX, a.SAFFL, ‘min’ as procedure, ‘WEIGHTBL’ as factor, ‘<em>NULL</em>’ as denominator, ‘KG’ as unit, min(WEIGHTBL) as measure from adsl as a group by a.TRT01A, a.SAFFL UNION SELECT ‘<em>ALL</em>’ as TRT01A, a.RACE, ‘<em>ALL</em>’ as SEX, a.SAFFL, ‘count’ as procedure, ‘quantity’ as factor, ‘<em>ALL</em>’ as denominator, ‘<em>NULL</em>’ as unit, count(<em>) as measure from adsl as a group by a.RACE, a.SAFFL UNION SELECT a.TRT01A, ‘<em>ALL</em>’ as RACE, ‘<em>ALL</em>’ as SEX, a.SAFFL, ‘mean’ as procedure, ‘AGE’ as factor, ‘<em>NULL</em>’ as denominator, ‘YEARS’ as unit, avg(AGE) as measure from adsl as a group by a.TRT01A, a.SAFFL UNION SELECT ‘<em>ALL</em>’ as TRT01A, ‘<em>ALL</em>’ as RACE, a.SEX, a.SAFFL, ‘count’ as procedure, ‘quantity’ as factor, ‘<em>ALL</em>’ as denominator, ‘<em>NULL</em>’ as unit, count(</em>) as measure from adsl as a group by a.SEX, a.SAFFL UNION SELECT a.TRT01A, ‘<em>ALL</em>’ as RACE, ‘<em>ALL</em>’ as SEX, a.SAFFL, ‘median’ as procedure, ‘AGE’ as factor, ‘<em>NULL</em>’ as denominator, ‘YEARS’ as unit, median(AGE) as measure from adsl as a group by a.TRT01A, a.SAFFL UNION SELECT a.TRT01A, ‘<em>ALL</em>’ as RACE, ‘<em>ALL</em>’ as SEX, a.SAFFL, ‘count’ as procedure, ‘quantity’ as factor, ‘<em>ALL</em>’ as denominator, ‘<em>NULL</em>’ as unit, count(*) as measure from adsl as a group by a.TRT01A, a.SAFFL UNION SELECT a.TRT01A, ‘<em>ALL</em>’ as RACE, ‘<em>ALL</em>’ as SEX, a.SAFFL, ‘stdev’ as procedure, ‘WEIGHTBL’ as factor, ‘<em>NULL</em>’ as denominator, ‘KG’ as unit, stdev(WEIGHTBL) as measure from adsl as a group by a.TRT01A, a.SAFFL</p>
<pre class="sourceCode r"><code class="sourceCode r">adsl.summ.stat.res&lt;-<span class="st"> </span><span class="kw">sqldf</span>( stmtSQL$summStatSQL)
<span class="kw">names</span>(adsl.summ.stat.res)&lt;-<span class="st"> </span><span class="kw">tolower</span>(<span class="kw">gsub</span>(<span class="st">&quot;(a|b)</span><span class="ch">\\</span><span class="st">.&quot;</span>,<span class="st">&quot;&quot;</span>, <span class="kw">names</span>(adsl.summ.stat.res)))</code></pre>
</div>
<div id="store-the-sql-statements-to-a-file" class="section level2">
<h2>Store the SQL statements to a file</h2>
<pre class="sourceCode r"><code class="sourceCode r">res.text&lt;-<span class="st"> </span>stmtSQL$summStatSQL

cr.text&lt;-<span class="st">   </span><span class="kw">paste0</span>(<span class="st">&quot;create table qbframe &quot;</span>, <span class="st">&quot;(&quot;</span>, <span class="kw">paste</span>(<span class="kw">names</span>(stmtSQL$qbframe), <span class="st">&quot;TEXT&quot;</span>, <span class="dt">collapse=</span><span class="st">&quot;, &quot;</span>), <span class="st">&quot;)&quot;</span>,<span class="st">&quot;;&quot;</span>)

in.text&lt;-<span class="st">   </span><span class="kw">paste0</span>(
  <span class="kw">paste</span>(
  <span class="kw">paste0</span>(<span class="st">&quot;insert into qbframe &quot;</span>, <span class="st">&quot;(&quot;</span>, <span class="kw">paste0</span>(<span class="kw">names</span>(stmtSQL$qbframe),<span class="dt">collapse=</span><span class="st">&quot;,&quot;</span>), <span class="st">&quot;)</span><span class="ch">\n</span><span class="st">&quot;</span> ),
  <span class="st">&quot;values</span><span class="ch">\n</span><span class="st">&quot;</span>,
  <span class="kw">paste0</span>( <span class="st">&quot;(&quot;</span>, <span class="kw">apply</span>(stmtSQL$qbframe,<span class="dv">1</span>,function(x) {<span class="kw">paste0</span>(<span class="st">'&quot;'</span>,x,<span class="st">'&quot;'</span>, <span class="dt">collapse=</span><span class="st">&quot;,&quot;</span>)}), <span class="st">&quot;)&quot;</span>,  <span class="dt">collapse=</span><span class="st">&quot;,</span><span class="ch">\n</span><span class="st">&quot;</span>),
  <span class="dt">collapse=</span><span class="st">&quot;</span><span class="ch">\n</span><span class="st">&quot;</span>
  ),<span class="st">&quot;;</span><span class="ch">\n</span><span class="st">&quot;</span>)

se.text&lt;-<span class="st"> &quot;select * from qbframe;&quot;</span>

tempfile&lt;-<span class="st"> </span><span class="kw">file.path</span>(<span class="kw">tempdir</span>(),<span class="st">&quot;temp-code.R&quot;</span>)
<span class="kw">cat</span>(<span class="kw">paste</span>(<span class="st">'res.text&lt;- &quot;'</span>, res.text,<span class="st">'&quot;</span><span class="ch">\n</span><span class="st">'</span>,<span class="dt">collapse=</span><span class="st">&quot;</span><span class="ch">\n</span><span class="st">&quot;</span>), <span class="dt">file=</span>tempfile)
<span class="kw">cat</span>(<span class="kw">paste</span>(<span class="st">&quot;cr.text&lt;- '&quot;</span>, cr.text,<span class="st">&quot;'</span><span class="ch">\n</span><span class="st">&quot;</span>,<span class="dt">collapse=</span><span class="st">&quot;</span><span class="ch">\n</span><span class="st">&quot;</span>), <span class="dt">file=</span>tempfile,<span class="dt">append=</span><span class="ot">TRUE</span>)
<span class="kw">cat</span>(<span class="kw">paste</span>(<span class="st">&quot;in.text&lt;- '&quot;</span>, in.text,<span class="st">&quot;'</span><span class="ch">\n</span><span class="st">&quot;</span>,<span class="dt">collapse=</span><span class="st">&quot;</span><span class="ch">\n</span><span class="st">&quot;</span>), <span class="dt">file=</span>tempfile,<span class="dt">append=</span><span class="ot">TRUE</span>)
<span class="kw">cat</span>(<span class="kw">paste</span>(<span class="st">&quot;se.text&lt;- '&quot;</span>, se.text,<span class="st">&quot;'</span><span class="ch">\n</span><span class="st">&quot;</span>,<span class="dt">collapse=</span><span class="st">&quot;</span><span class="ch">\n</span><span class="st">&quot;</span>), <span class="dt">file=</span>tempfile,<span class="dt">append=</span><span class="ot">TRUE</span>)
<span class="kw">print</span>(tempfile)</code></pre>
<p>[1] “/tmp/Rtmp4pIfVc/temp-code.R”</p>
</div>
<div id="define-sql-statements-directly" class="section level2">
<h2>Define SQL statements directly</h2>
<p>The statements below are inserted from the file generated above.</p>
<p>Work-around: add SELECT statments below corresponding to the desired statistics. Update the .csv file, and re-create the cube. Repeat until done. This is of course not the ideal way; waiting to the formular interface to the cube.</p>
<pre class="sourceCode r"><code class="sourceCode r">res.text&lt;-<span class="st"> &quot;</span>
<span class="st">SELECT a.TRT01A, '_ALL_' as RACE, a.SEX, a.SAFFL, 'count' as procedure, 'quantity' as factor, '_ALL_' as denominator, '_NULL_' as unit, count(*) as measure from  adsl  as a   group by  a.TRT01A, a.SEX, a.SAFFL</span>
<span class="st">UNION</span>
<span class="st">SELECT a.TRT01A, '_ALL_' as RACE, '_ALL_' as SEX, a.SAFFL, 'mean' as procedure, 'WEIGHTBL' as factor, '_NULL_' as denominator, 'KG' as unit, avg(WEIGHTBL) as measure from  adsl  as a   group by  a.TRT01A, a.SAFFL</span>
<span class="st">UNION</span>
<span class="st">SELECT a.TRT01A, '_ALL_' as RACE, '_ALL_' as SEX, a.SAFFL, 'max' as procedure, 'WEIGHTBL' as factor, '_NULL_' as denominator, 'KG' as unit, max(WEIGHTBL) as measure from  adsl  as a   group by  a.TRT01A, a.SAFFL</span>
<span class="st">UNION</span>
<span class="st">SELECT a.TRT01A, '_ALL_' as RACE, '_ALL_' as SEX, a.SAFFL, 'max' as procedure, 'AGE' as factor, '_NULL_' as denominator, 'YEARS' as unit, max(AGE) as measure from  adsl  as a   group by  a.TRT01A, a.SAFFL</span>
<span class="st">UNION</span>
<span class="st">SELECT a.TRT01A, '_ALL_' as RACE, '_ALL_' as SEX, a.SAFFL, 'median' as procedure, 'WEIGHTBL' as factor, '_NULL_' as denominator, 'KG' as unit, median(WEIGHTBL) as measure from  adsl  as a   group by  a.TRT01A, a.SAFFL</span>
<span class="st">UNION</span>
<span class="st">SELECT a.TRT01A, a.RACE, '_ALL_' as SEX, a.SAFFL, 'count' as procedure, 'quantity' as factor, '_ALL_' as denominator, '_NULL_' as unit, count(*) as measure from  adsl  as a   group by  a.TRT01A, a.RACE, a.SAFFL</span>
<span class="st">UNION</span>
<span class="st">SELECT a.TRT01A, b.RACE, '_ALL_' as SEX, a.SAFFL, 'percent' as procedure, 'proportion' as factor, 'RACE' as denominator, '_NULL_' as unit, 100*avg(a.RACE=b.RACE) as measure from  adsl  as a , (select distinct RACE from adsl) as b group by  a.TRT01A, b.RACE, a.SAFFL</span>
<span class="st">UNION</span>
<span class="st">SELECT a.TRT01A, '_ALL_' as RACE, '_ALL_' as SEX, a.SAFFL, 'stdev' as procedure, 'AGE' as factor, '_NULL_' as denominator, 'YEARS' as unit, stdev(AGE) as measure from  adsl  as a   group by  a.TRT01A, a.SAFFL</span>
<span class="st">UNION</span>
<span class="st">SELECT a.TRT01A, '_ALL_' as RACE, '_ALL_' as SEX, a.SAFFL, 'min' as procedure, 'AGE' as factor, '_NULL_' as denominator, 'YEARS' as unit, min(AGE) as measure from  adsl  as a   group by  a.TRT01A, a.SAFFL</span>
<span class="st">UNION</span>
<span class="st">SELECT a.TRT01A, '_ALL_' as RACE, b.SEX, a.SAFFL, 'percent' as procedure, 'proportion' as factor, 'SEX' as denominator, '_NULL_' as unit, 100*avg(a.SEX=b.SEX) as measure from  adsl  as a , (select distinct SEX from adsl) as b group by  a.TRT01A, b.SEX, a.SAFFL</span>
<span class="st">UNION</span>
<span class="st">SELECT a.TRT01A, '_ALL_' as RACE, '_ALL_' as SEX, a.SAFFL, 'min' as procedure, 'WEIGHTBL' as factor, '_NULL_' as denominator, 'KG' as unit, min(WEIGHTBL) as measure from  adsl  as a   group by  a.TRT01A, a.SAFFL</span>
<span class="st">UNION</span>
<span class="st">SELECT '_ALL_' as TRT01A, a.RACE, '_ALL_' as SEX, a.SAFFL, 'count' as procedure, 'quantity' as factor, '_ALL_' as denominator, '_NULL_' as unit, count(*) as measure from  adsl  as a   group by  a.RACE, a.SAFFL</span>
<span class="st">UNION</span>
<span class="st">SELECT a.TRT01A, '_ALL_' as RACE, '_ALL_' as SEX, a.SAFFL, 'mean' as procedure, 'AGE' as factor, '_NULL_' as denominator, 'YEARS' as unit, avg(AGE) as measure from  adsl  as a   group by  a.TRT01A, a.SAFFL</span>
<span class="st">UNION</span>
<span class="st">SELECT '_ALL_' as TRT01A, '_ALL_' as RACE, a.SEX, a.SAFFL, 'count' as procedure, 'quantity' as factor, '_ALL_' as denominator, '_NULL_' as unit, count(*) as measure from  adsl  as a   group by  a.SEX, a.SAFFL</span>
<span class="st">UNION</span>
<span class="st">SELECT a.TRT01A, '_ALL_' as RACE, '_ALL_' as SEX, a.SAFFL, 'median' as procedure, 'AGE' as factor, '_NULL_' as denominator, 'YEARS' as unit, median(AGE) as measure from  adsl  as a   group by  a.TRT01A, a.SAFFL</span>
<span class="st">UNION</span>
<span class="st">SELECT a.TRT01A, '_ALL_' as RACE, '_ALL_' as SEX, a.SAFFL, 'count' as procedure, 'quantity' as factor, '_ALL_' as denominator, '_NULL_' as unit, count(*) as measure from  adsl  as a   group by  a.TRT01A, a.SAFFL</span>
<span class="st">UNION</span>
<span class="st">SELECT a.TRT01A, '_ALL_' as RACE, '_ALL_' as SEX, a.SAFFL, 'stdev' as procedure, 'WEIGHTBL' as factor, '_NULL_' as denominator, 'KG' as unit, stdev(WEIGHTBL) as measure from  adsl  as a   group by  a.TRT01A, a.SAFFL</span>
<span class="st">&quot;</span>


cr.text&lt;-<span class="st"> '</span>
<span class="st">create table qbframe (trt01a TEXT, race TEXT, factor TEXT, procedure TEXT, sex TEXT, saffl TEXT, unit TEXT, denominator TEXT);</span>
<span class="st">'</span>

in.text&lt;-<span class="st"> '</span>
<span class="st">insert into qbframe (trt01a,race,factor,procedure,sex,saffl,unit,denominator)</span>
<span class="st"> values</span>
<span class="st">(&quot;Xanomeline High Dose&quot;,&quot;AMERICAN INDIAN OR ALASKA NATIVE&quot;,&quot;proportion&quot;,&quot;percent&quot;,&quot;_ALL_&quot;,&quot;Y&quot;,&quot;_NULL_&quot;,&quot;RACE&quot;),</span>
<span class="st">(&quot;Xanomeline Low Dose&quot;,&quot;AMERICAN INDIAN OR ALASKA NATIVE&quot;,&quot;proportion&quot;,&quot;percent&quot;,&quot;_ALL_&quot;,&quot;Y&quot;,&quot;_NULL_&quot;,&quot;RACE&quot;),</span>
<span class="st">(&quot;Xanomeline Low Dose&quot;,&quot;BLACK OR AFRICAN AMERICAN&quot;,&quot;proportion&quot;,&quot;percent&quot;,&quot;_ALL_&quot;,&quot;Y&quot;,&quot;_NULL_&quot;,&quot;RACE&quot;),</span>
<span class="st">(&quot;Placebo&quot;,&quot;_ALL_&quot;,&quot;quantity&quot;,&quot;count&quot;,&quot;F&quot;,&quot;Y&quot;,&quot;_NULL_&quot;,&quot;_ALL_&quot;),</span>
<span class="st">(&quot;_ALL_&quot;,&quot;WHITE&quot;,&quot;quantity&quot;,&quot;count&quot;,&quot;_ALL_&quot;,&quot;Y&quot;,&quot;_NULL_&quot;,&quot;_ALL_&quot;),</span>
<span class="st">(&quot;Xanomeline Low Dose&quot;,&quot;_ALL_&quot;,&quot;AGE&quot;,&quot;min&quot;,&quot;_ALL_&quot;,&quot;Y&quot;,&quot;YEARS&quot;,&quot;_NULL_&quot;),</span>
<span class="st">(&quot;Xanomeline High Dose&quot;,&quot;_ALL_&quot;,&quot;AGE&quot;,&quot;stdev&quot;,&quot;_ALL_&quot;,&quot;Y&quot;,&quot;YEARS&quot;,&quot;_NULL_&quot;),</span>
<span class="st">(&quot;Xanomeline Low Dose&quot;,&quot;_ALL_&quot;,&quot;proportion&quot;,&quot;percent&quot;,&quot;M&quot;,&quot;Y&quot;,&quot;_NULL_&quot;,&quot;SEX&quot;),</span>
<span class="st">(&quot;Placebo&quot;,&quot;_ALL_&quot;,&quot;AGE&quot;,&quot;stdev&quot;,&quot;_ALL_&quot;,&quot;Y&quot;,&quot;YEARS&quot;,&quot;_NULL_&quot;),</span>
<span class="st">(&quot;Xanomeline High Dose&quot;,&quot;WHITE&quot;,&quot;quantity&quot;,&quot;count&quot;,&quot;_ALL_&quot;,&quot;Y&quot;,&quot;_NULL_&quot;,&quot;_ALL_&quot;),</span>
<span class="st">(&quot;Xanomeline Low Dose&quot;,&quot;WHITE&quot;,&quot;quantity&quot;,&quot;count&quot;,&quot;_ALL_&quot;,&quot;Y&quot;,&quot;_NULL_&quot;,&quot;_ALL_&quot;),</span>
<span class="st">(&quot;Xanomeline High Dose&quot;,&quot;_ALL_&quot;,&quot;AGE&quot;,&quot;max&quot;,&quot;_ALL_&quot;,&quot;Y&quot;,&quot;YEARS&quot;,&quot;_NULL_&quot;),</span>
<span class="st">(&quot;Xanomeline High Dose&quot;,&quot;AMERICAN INDIAN OR ALASKA NATIVE&quot;,&quot;quantity&quot;,&quot;count&quot;,&quot;_ALL_&quot;,&quot;Y&quot;,&quot;_NULL_&quot;,&quot;_ALL_&quot;),</span>
<span class="st">(&quot;Placebo&quot;,&quot;BLACK OR AFRICAN AMERICAN&quot;,&quot;quantity&quot;,&quot;count&quot;,&quot;_ALL_&quot;,&quot;Y&quot;,&quot;_NULL_&quot;,&quot;_ALL_&quot;),</span>
<span class="st">(&quot;Placebo&quot;,&quot;_ALL_&quot;,&quot;AGE&quot;,&quot;max&quot;,&quot;_ALL_&quot;,&quot;Y&quot;,&quot;YEARS&quot;,&quot;_NULL_&quot;),</span>
<span class="st">(&quot;Placebo&quot;,&quot;AMERICAN INDIAN OR ALASKA NATIVE&quot;,&quot;proportion&quot;,&quot;percent&quot;,&quot;_ALL_&quot;,&quot;Y&quot;,&quot;_NULL_&quot;,&quot;RACE&quot;),</span>
<span class="st">(&quot;Placebo&quot;,&quot;BLACK OR AFRICAN AMERICAN&quot;,&quot;proportion&quot;,&quot;percent&quot;,&quot;_ALL_&quot;,&quot;Y&quot;,&quot;_NULL_&quot;,&quot;RACE&quot;),</span>
<span class="st">(&quot;Xanomeline Low Dose&quot;,&quot;_ALL_&quot;,&quot;quantity&quot;,&quot;count&quot;,&quot;_ALL_&quot;,&quot;Y&quot;,&quot;_NULL_&quot;,&quot;_ALL_&quot;),</span>
<span class="st">(&quot;Placebo&quot;,&quot;_ALL_&quot;,&quot;quantity&quot;,&quot;count&quot;,&quot;M&quot;,&quot;Y&quot;,&quot;_NULL_&quot;,&quot;_ALL_&quot;),</span>
<span class="st">(&quot;Placebo&quot;,&quot;_ALL_&quot;,&quot;proportion&quot;,&quot;percent&quot;,&quot;F&quot;,&quot;Y&quot;,&quot;_NULL_&quot;,&quot;SEX&quot;),</span>
<span class="st">(&quot;Xanomeline High Dose&quot;,&quot;_ALL_&quot;,&quot;quantity&quot;,&quot;count&quot;,&quot;_ALL_&quot;,&quot;Y&quot;,&quot;_NULL_&quot;,&quot;_ALL_&quot;),</span>
<span class="st">(&quot;Xanomeline Low Dose&quot;,&quot;_ALL_&quot;,&quot;quantity&quot;,&quot;count&quot;,&quot;M&quot;,&quot;Y&quot;,&quot;_NULL_&quot;,&quot;_ALL_&quot;),</span>
<span class="st">(&quot;Xanomeline High Dose&quot;,&quot;_ALL_&quot;,&quot;proportion&quot;,&quot;percent&quot;,&quot;F&quot;,&quot;Y&quot;,&quot;_NULL_&quot;,&quot;SEX&quot;),</span>
<span class="st">(&quot;Xanomeline Low Dose&quot;,&quot;_ALL_&quot;,&quot;quantity&quot;,&quot;count&quot;,&quot;F&quot;,&quot;Y&quot;,&quot;_NULL_&quot;,&quot;_ALL_&quot;),</span>
<span class="st">(&quot;Placebo&quot;,&quot;_ALL_&quot;,&quot;AGE&quot;,&quot;mean&quot;,&quot;_ALL_&quot;,&quot;Y&quot;,&quot;YEARS&quot;,&quot;_NULL_&quot;),</span>
<span class="st">(&quot;Xanomeline High Dose&quot;,&quot;_ALL_&quot;,&quot;AGE&quot;,&quot;median&quot;,&quot;_ALL_&quot;,&quot;Y&quot;,&quot;YEARS&quot;,&quot;_NULL_&quot;),</span>
<span class="st">(&quot;Placebo&quot;,&quot;_ALL_&quot;,&quot;AGE&quot;,&quot;min&quot;,&quot;_ALL_&quot;,&quot;Y&quot;,&quot;YEARS&quot;,&quot;_NULL_&quot;),</span>
<span class="st">(&quot;_ALL_&quot;,&quot;BLACK OR AFRICAN AMERICAN&quot;,&quot;quantity&quot;,&quot;count&quot;,&quot;_ALL_&quot;,&quot;Y&quot;,&quot;_NULL_&quot;,&quot;_ALL_&quot;),</span>
<span class="st">(&quot;Placebo&quot;,&quot;_ALL_&quot;,&quot;AGE&quot;,&quot;median&quot;,&quot;_ALL_&quot;,&quot;Y&quot;,&quot;YEARS&quot;,&quot;_NULL_&quot;),</span>
<span class="st">(&quot;Xanomeline Low Dose&quot;,&quot;_ALL_&quot;,&quot;AGE&quot;,&quot;stdev&quot;,&quot;_ALL_&quot;,&quot;Y&quot;,&quot;YEARS&quot;,&quot;_NULL_&quot;),</span>
<span class="st">(&quot;Xanomeline Low Dose&quot;,&quot;AMERICAN INDIAN OR ALASKA NATIVE&quot;,&quot;quantity&quot;,&quot;count&quot;,&quot;_ALL_&quot;,&quot;Y&quot;,&quot;_NULL_&quot;,&quot;_ALL_&quot;),</span>
<span class="st">(&quot;Xanomeline Low Dose&quot;,&quot;BLACK OR AFRICAN AMERICAN&quot;,&quot;quantity&quot;,&quot;count&quot;,&quot;_ALL_&quot;,&quot;Y&quot;,&quot;_NULL_&quot;,&quot;_ALL_&quot;),</span>
<span class="st">(&quot;Xanomeline Low Dose&quot;,&quot;_ALL_&quot;,&quot;AGE&quot;,&quot;max&quot;,&quot;_ALL_&quot;,&quot;Y&quot;,&quot;YEARS&quot;,&quot;_NULL_&quot;),</span>
<span class="st">(&quot;Xanomeline High Dose&quot;,&quot;BLACK OR AFRICAN AMERICAN&quot;,&quot;proportion&quot;,&quot;percent&quot;,&quot;_ALL_&quot;,&quot;Y&quot;,&quot;_NULL_&quot;,&quot;RACE&quot;),</span>
<span class="st">(&quot;Xanomeline High Dose&quot;,&quot;WHITE&quot;,&quot;proportion&quot;,&quot;percent&quot;,&quot;_ALL_&quot;,&quot;Y&quot;,&quot;_NULL_&quot;,&quot;RACE&quot;),</span>
<span class="st">(&quot;Xanomeline Low Dose&quot;,&quot;WHITE&quot;,&quot;proportion&quot;,&quot;percent&quot;,&quot;_ALL_&quot;,&quot;Y&quot;,&quot;_NULL_&quot;,&quot;RACE&quot;),</span>
<span class="st">(&quot;_ALL_&quot;,&quot;_ALL_&quot;,&quot;quantity&quot;,&quot;count&quot;,&quot;M&quot;,&quot;Y&quot;,&quot;_NULL_&quot;,&quot;_ALL_&quot;),</span>
<span class="st">(&quot;Xanomeline High Dose&quot;,&quot;_ALL_&quot;,&quot;quantity&quot;,&quot;count&quot;,&quot;M&quot;,&quot;Y&quot;,&quot;_NULL_&quot;,&quot;_ALL_&quot;),</span>
<span class="st">(&quot;_ALL_&quot;,&quot;_ALL_&quot;,&quot;quantity&quot;,&quot;count&quot;,&quot;F&quot;,&quot;Y&quot;,&quot;_NULL_&quot;,&quot;_ALL_&quot;),</span>
<span class="st">(&quot;Xanomeline High Dose&quot;,&quot;_ALL_&quot;,&quot;quantity&quot;,&quot;count&quot;,&quot;F&quot;,&quot;Y&quot;,&quot;_NULL_&quot;,&quot;_ALL_&quot;),</span>
<span class="st">(&quot;Placebo&quot;,&quot;_ALL_&quot;,&quot;proportion&quot;,&quot;percent&quot;,&quot;M&quot;,&quot;Y&quot;,&quot;_NULL_&quot;,&quot;SEX&quot;),</span>
<span class="st">(&quot;Xanomeline Low Dose&quot;,&quot;_ALL_&quot;,&quot;proportion&quot;,&quot;percent&quot;,&quot;F&quot;,&quot;Y&quot;,&quot;_NULL_&quot;,&quot;SEX&quot;),</span>
<span class="st">(&quot;Xanomeline Low Dose&quot;,&quot;_ALL_&quot;,&quot;AGE&quot;,&quot;mean&quot;,&quot;_ALL_&quot;,&quot;Y&quot;,&quot;YEARS&quot;,&quot;_NULL_&quot;),</span>
<span class="st">(&quot;Xanomeline High Dose&quot;,&quot;_ALL_&quot;,&quot;proportion&quot;,&quot;percent&quot;,&quot;M&quot;,&quot;Y&quot;,&quot;_NULL_&quot;,&quot;SEX&quot;),</span>
<span class="st">(&quot;Placebo&quot;,&quot;AMERICAN INDIAN OR ALASKA NATIVE&quot;,&quot;quantity&quot;,&quot;count&quot;,&quot;_ALL_&quot;,&quot;Y&quot;,&quot;_NULL_&quot;,&quot;_ALL_&quot;),</span>
<span class="st">(&quot;Xanomeline High Dose&quot;,&quot;_ALL_&quot;,&quot;AGE&quot;,&quot;mean&quot;,&quot;_ALL_&quot;,&quot;Y&quot;,&quot;YEARS&quot;,&quot;_NULL_&quot;),</span>
<span class="st">(&quot;Xanomeline High Dose&quot;,&quot;BLACK OR AFRICAN AMERICAN&quot;,&quot;quantity&quot;,&quot;count&quot;,&quot;_ALL_&quot;,&quot;Y&quot;,&quot;_NULL_&quot;,&quot;_ALL_&quot;),</span>
<span class="st">(&quot;Placebo&quot;,&quot;WHITE&quot;,&quot;quantity&quot;,&quot;count&quot;,&quot;_ALL_&quot;,&quot;Y&quot;,&quot;_NULL_&quot;,&quot;_ALL_&quot;),</span>
<span class="st">(&quot;Xanomeline Low Dose&quot;,&quot;_ALL_&quot;,&quot;AGE&quot;,&quot;median&quot;,&quot;_ALL_&quot;,&quot;Y&quot;,&quot;YEARS&quot;,&quot;_NULL_&quot;),</span>
<span class="st">(&quot;Xanomeline High Dose&quot;,&quot;_ALL_&quot;,&quot;AGE&quot;,&quot;min&quot;,&quot;_ALL_&quot;,&quot;Y&quot;,&quot;YEARS&quot;,&quot;_NULL_&quot;),</span>
<span class="st">(&quot;_ALL_&quot;,&quot;AMERICAN INDIAN OR ALASKA NATIVE&quot;,&quot;quantity&quot;,&quot;count&quot;,&quot;_ALL_&quot;,&quot;Y&quot;,&quot;_NULL_&quot;,&quot;_ALL_&quot;),</span>
<span class="st">(&quot;Placebo&quot;,&quot;WHITE&quot;,&quot;proportion&quot;,&quot;percent&quot;,&quot;_ALL_&quot;,&quot;Y&quot;,&quot;_NULL_&quot;,&quot;RACE&quot;),</span>
<span class="st">(&quot;Placebo&quot;,&quot;_ALL_&quot;,&quot;quantity&quot;,&quot;count&quot;,&quot;_ALL_&quot;,&quot;Y&quot;,&quot;_NULL_&quot;,&quot;_ALL_&quot;),</span>
<span class="st">(&quot;Xanomeline Low Dose&quot;,&quot;_ALL_&quot;,&quot;WEIGHTBL&quot;,&quot;min&quot;,&quot;_ALL_&quot;,&quot;Y&quot;,&quot;KG&quot;,&quot;_NULL_&quot;),</span>
<span class="st">(&quot;Xanomeline High Dose&quot;,&quot;_ALL_&quot;,&quot;WEIGHTBL&quot;,&quot;stdev&quot;,&quot;_ALL_&quot;,&quot;Y&quot;,&quot;KG&quot;,&quot;_NULL_&quot;),</span>
<span class="st">(&quot;Placebo&quot;,&quot;_ALL_&quot;,&quot;WEIGHTBL&quot;,&quot;stdev&quot;,&quot;_ALL_&quot;,&quot;Y&quot;,&quot;KG&quot;,&quot;_NULL_&quot;),</span>
<span class="st">(&quot;Xanomeline High Dose&quot;,&quot;_ALL_&quot;,&quot;WEIGHTBL&quot;,&quot;max&quot;,&quot;_ALL_&quot;,&quot;Y&quot;,&quot;KG&quot;,&quot;_NULL_&quot;),</span>
<span class="st">(&quot;Placebo&quot;,&quot;_ALL_&quot;,&quot;WEIGHTBL&quot;,&quot;max&quot;,&quot;_ALL_&quot;,&quot;Y&quot;,&quot;KG&quot;,&quot;_NULL_&quot;),</span>
<span class="st">(&quot;Placebo&quot;,&quot;_ALL_&quot;,&quot;WEIGHTBL&quot;,&quot;mean&quot;,&quot;_ALL_&quot;,&quot;Y&quot;,&quot;KG&quot;,&quot;_NULL_&quot;),</span>
<span class="st">(&quot;Xanomeline High Dose&quot;,&quot;_ALL_&quot;,&quot;WEIGHTBL&quot;,&quot;median&quot;,&quot;_ALL_&quot;,&quot;Y&quot;,&quot;KG&quot;,&quot;_NULL_&quot;),</span>
<span class="st">(&quot;Placebo&quot;,&quot;_ALL_&quot;,&quot;WEIGHTBL&quot;,&quot;min&quot;,&quot;_ALL_&quot;,&quot;Y&quot;,&quot;KG&quot;,&quot;_NULL_&quot;),</span>
<span class="st">(&quot;Placebo&quot;,&quot;_ALL_&quot;,&quot;WEIGHTBL&quot;,&quot;median&quot;,&quot;_ALL_&quot;,&quot;Y&quot;,&quot;KG&quot;,&quot;_NULL_&quot;),</span>
<span class="st">(&quot;Xanomeline Low Dose&quot;,&quot;_ALL_&quot;,&quot;WEIGHTBL&quot;,&quot;stdev&quot;,&quot;_ALL_&quot;,&quot;Y&quot;,&quot;KG&quot;,&quot;_NULL_&quot;),</span>
<span class="st">(&quot;Xanomeline Low Dose&quot;,&quot;_ALL_&quot;,&quot;WEIGHTBL&quot;,&quot;max&quot;,&quot;_ALL_&quot;,&quot;Y&quot;,&quot;KG&quot;,&quot;_NULL_&quot;),</span>
<span class="st">(&quot;Xanomeline Low Dose&quot;,&quot;_ALL_&quot;,&quot;WEIGHTBL&quot;,&quot;mean&quot;,&quot;_ALL_&quot;,&quot;Y&quot;,&quot;KG&quot;,&quot;_NULL_&quot;),</span>
<span class="st">(&quot;Xanomeline High Dose&quot;,&quot;_ALL_&quot;,&quot;WEIGHTBL&quot;,&quot;mean&quot;,&quot;_ALL_&quot;,&quot;Y&quot;,&quot;KG&quot;,&quot;_NULL_&quot;),</span>
<span class="st">(&quot;Xanomeline Low Dose&quot;,&quot;_ALL_&quot;,&quot;WEIGHTBL&quot;,&quot;median&quot;,&quot;_ALL_&quot;,&quot;Y&quot;,&quot;KG&quot;,&quot;_NULL_&quot;),</span>
<span class="st">(&quot;Xanomeline High Dose&quot;,&quot;_ALL_&quot;,&quot;WEIGHTBL&quot;,&quot;min&quot;,&quot;_ALL_&quot;,&quot;Y&quot;,&quot;KG&quot;,&quot;_NULL_&quot;)</span>
<span class="st">;</span>
<span class="st">'</span>
se.text&lt;-<span class="st">'</span>
<span class="st">select * from qbframe;</span>
<span class="st">'</span></code></pre>
<div id="evaluate-the-sql-code" class="section level3">
<h3>Evaluate the SQL code</h3>
<pre class="sourceCode r"><code class="sourceCode r">adsl.summ.stat.res&lt;-<span class="st"> </span><span class="kw">sqldf</span>( res.text )
<span class="co"># adsl.summ.stat$unit&lt;- &quot;_NULL_&quot;</span>
<span class="kw">names</span>(adsl.summ.stat.res)&lt;-<span class="st"> </span><span class="kw">tolower</span>(<span class="kw">gsub</span>(<span class="st">&quot;(a|b)</span><span class="ch">\\</span><span class="st">.&quot;</span>,<span class="st">&quot;&quot;</span>, <span class="kw">names</span>(adsl.summ.stat.res)))

<span class="kw">rm</span>(qbframe)
<span class="kw">sqldf</span>()</code></pre>
<p><SQLiteConnection></p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">sqldf</span>(cr.text )</code></pre>
<p>NULL</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">sqldf</span>(in.text  )</code></pre>
<p>NULL</p>
<pre class="sourceCode r"><code class="sourceCode r">qbframe&lt;-<span class="st"> </span><span class="kw">sqldf</span>(se.text)
<span class="kw">sqldf</span>()</code></pre>
<p>NULL</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># str(qbframe)</span></code></pre>
</div>
<div id="combine-generated-results-with-the-cube-frame-and-write-csv-file" class="section level3">
<h3>Combine generated results with the cube frame and write CSV file</h3>
<p>Note: the new csv file should be moved manually to the extdata/sample-cfg directory.</p>
<pre class="sourceCode r"><code class="sourceCode r">adsl.summ.stat&lt;-<span class="st"> </span><span class="kw">merge</span>(qbframe,adsl.summ.stat.res,<span class="dt">by=</span><span class="kw">names</span>(qbframe),<span class="dt">all=</span><span class="ot">TRUE</span>)
<span class="co"># adsl.summ.stat&lt;- merge(stmtSQL$qbframe,adsl.summ.stat.res,all=TRUE)</span>
adsl.summ.stat$measure[ <span class="kw">is.na</span>(adsl.summ.stat$measure) &amp;<span class="st"> </span>adsl.summ.stat$procedure==<span class="st">&quot;count&quot;</span> ]&lt;-<span class="st"> </span><span class="dv">0</span>
adsl.summ.stat</code></pre>
<pre><code>             trt01a                             race     factor</code></pre>
<p>1 <em>ALL</em> <em>ALL</em> quantity 2 <em>ALL</em> <em>ALL</em> quantity 3 <em>ALL</em> AMERICAN INDIAN OR ALASKA NATIVE quantity 4 <em>ALL</em> BLACK OR AFRICAN AMERICAN quantity 5 <em>ALL</em> WHITE quantity 6 Placebo <em>ALL</em> AGE 7 Placebo <em>ALL</em> AGE 8 Placebo <em>ALL</em> AGE 9 Placebo <em>ALL</em> AGE 10 Placebo <em>ALL</em> AGE 11 Placebo <em>ALL</em> proportion 12 Placebo <em>ALL</em> proportion 13 Placebo <em>ALL</em> quantity 14 Placebo <em>ALL</em> quantity 15 Placebo <em>ALL</em> quantity 16 Placebo <em>ALL</em> WEIGHTBL 17 Placebo <em>ALL</em> WEIGHTBL 18 Placebo <em>ALL</em> WEIGHTBL 19 Placebo <em>ALL</em> WEIGHTBL 20 Placebo <em>ALL</em> WEIGHTBL 21 Placebo AMERICAN INDIAN OR ALASKA NATIVE proportion 22 Placebo AMERICAN INDIAN OR ALASKA NATIVE quantity 23 Placebo BLACK OR AFRICAN AMERICAN proportion 24 Placebo BLACK OR AFRICAN AMERICAN quantity 25 Placebo WHITE proportion 26 Placebo WHITE quantity 27 Xanomeline High Dose <em>ALL</em> AGE 28 Xanomeline High Dose <em>ALL</em> AGE 29 Xanomeline High Dose <em>ALL</em> AGE 30 Xanomeline High Dose <em>ALL</em> AGE 31 Xanomeline High Dose <em>ALL</em> AGE 32 Xanomeline High Dose <em>ALL</em> proportion 33 Xanomeline High Dose <em>ALL</em> proportion 34 Xanomeline High Dose <em>ALL</em> quantity 35 Xanomeline High Dose <em>ALL</em> quantity 36 Xanomeline High Dose <em>ALL</em> quantity 37 Xanomeline High Dose <em>ALL</em> WEIGHTBL 38 Xanomeline High Dose <em>ALL</em> WEIGHTBL 39 Xanomeline High Dose <em>ALL</em> WEIGHTBL 40 Xanomeline High Dose <em>ALL</em> WEIGHTBL 41 Xanomeline High Dose <em>ALL</em> WEIGHTBL 42 Xanomeline High Dose AMERICAN INDIAN OR ALASKA NATIVE proportion 43 Xanomeline High Dose AMERICAN INDIAN OR ALASKA NATIVE quantity 44 Xanomeline High Dose BLACK OR AFRICAN AMERICAN proportion 45 Xanomeline High Dose BLACK OR AFRICAN AMERICAN quantity 46 Xanomeline High Dose WHITE proportion 47 Xanomeline High Dose WHITE quantity 48 Xanomeline Low Dose <em>ALL</em> AGE 49 Xanomeline Low Dose <em>ALL</em> AGE 50 Xanomeline Low Dose <em>ALL</em> AGE 51 Xanomeline Low Dose <em>ALL</em> AGE 52 Xanomeline Low Dose <em>ALL</em> AGE 53 Xanomeline Low Dose <em>ALL</em> proportion 54 Xanomeline Low Dose <em>ALL</em> proportion 55 Xanomeline Low Dose <em>ALL</em> quantity 56 Xanomeline Low Dose <em>ALL</em> quantity 57 Xanomeline Low Dose <em>ALL</em> quantity 58 Xanomeline Low Dose <em>ALL</em> WEIGHTBL 59 Xanomeline Low Dose <em>ALL</em> WEIGHTBL 60 Xanomeline Low Dose <em>ALL</em> WEIGHTBL 61 Xanomeline Low Dose <em>ALL</em> WEIGHTBL 62 Xanomeline Low Dose <em>ALL</em> WEIGHTBL 63 Xanomeline Low Dose AMERICAN INDIAN OR ALASKA NATIVE proportion 64 Xanomeline Low Dose AMERICAN INDIAN OR ALASKA NATIVE quantity 65 Xanomeline Low Dose BLACK OR AFRICAN AMERICAN proportion 66 Xanomeline Low Dose BLACK OR AFRICAN AMERICAN quantity 67 Xanomeline Low Dose WHITE proportion 68 Xanomeline Low Dose WHITE quantity procedure sex saffl unit denominator measure 1 count F Y <em>NULL</em> <em>ALL</em> 143.000000 2 count M Y <em>NULL</em> <em>ALL</em> 111.000000 3 count <em>ALL</em> Y <em>NULL</em> <em>ALL</em> 1.000000 4 count <em>ALL</em> Y <em>NULL</em> <em>ALL</em> 23.000000 5 count <em>ALL</em> Y <em>NULL</em> <em>ALL</em> 230.000000 6 max <em>ALL</em> Y YEARS <em>NULL</em> 89.000000 7 mean <em>ALL</em> Y YEARS <em>NULL</em> 75.209302 8 median <em>ALL</em> Y YEARS <em>NULL</em> 76.000000 9 min <em>ALL</em> Y YEARS <em>NULL</em> 52.000000 10 stdev <em>ALL</em> Y YEARS <em>NULL</em> 8.590167 11 percent F Y <em>NULL</em> SEX 61.627907 12 percent M Y <em>NULL</em> SEX 38.372093 13 count <em>ALL</em> Y <em>NULL</em> <em>ALL</em> 86.000000 14 count F Y <em>NULL</em> <em>ALL</em> 53.000000 15 count M Y <em>NULL</em> <em>ALL</em> 33.000000 16 max <em>ALL</em> Y KG <em>NULL</em> 86.200000 17 mean <em>ALL</em> Y KG <em>NULL</em> 62.759302 18 median <em>ALL</em> Y KG <em>NULL</em> 60.550000 19 min <em>ALL</em> Y KG <em>NULL</em> 34.000000 20 stdev <em>ALL</em> Y KG <em>NULL</em> 12.771544 21 percent <em>ALL</em> Y <em>NULL</em> RACE 0.000000 22 count <em>ALL</em> Y <em>NULL</em> <em>ALL</em> 0.000000 23 percent <em>ALL</em> Y <em>NULL</em> RACE 9.302326 24 count <em>ALL</em> Y <em>NULL</em> <em>ALL</em> 8.000000 25 percent <em>ALL</em> Y <em>NULL</em> RACE 90.697674 26 count <em>ALL</em> Y <em>NULL</em> <em>ALL</em> 78.000000 27 max <em>ALL</em> Y YEARS <em>NULL</em> 88.000000 28 mean <em>ALL</em> Y YEARS <em>NULL</em> 74.380952 29 median <em>ALL</em> Y YEARS <em>NULL</em> 76.000000 30 min <em>ALL</em> Y YEARS <em>NULL</em> 56.000000 31 stdev <em>ALL</em> Y YEARS <em>NULL</em> 7.886094 32 percent F Y <em>NULL</em> SEX 47.619048 33 percent M Y <em>NULL</em> SEX 52.380952 34 count <em>ALL</em> Y <em>NULL</em> <em>ALL</em> 84.000000 35 count F Y <em>NULL</em> <em>ALL</em> 40.000000 36 count M Y <em>NULL</em> <em>ALL</em> 44.000000 37 max <em>ALL</em> Y KG <em>NULL</em> 108.000000 38 mean <em>ALL</em> Y KG <em>NULL</em> 70.004762 39 median <em>ALL</em> Y KG <em>NULL</em> 69.200000 40 min <em>ALL</em> Y KG <em>NULL</em> 41.700000 41 stdev <em>ALL</em> Y KG <em>NULL</em> 14.653433 42 percent <em>ALL</em> Y <em>NULL</em> RACE 1.190476 43 count <em>ALL</em> Y <em>NULL</em> <em>ALL</em> 1.000000 44 percent <em>ALL</em> Y <em>NULL</em> RACE 10.714286 45 count <em>ALL</em> Y <em>NULL</em> <em>ALL</em> 9.000000 46 percent <em>ALL</em> Y <em>NULL</em> RACE 88.095238 47 count <em>ALL</em> Y <em>NULL</em> <em>ALL</em> 74.000000 48 max <em>ALL</em> Y YEARS <em>NULL</em> 88.000000 49 mean <em>ALL</em> Y YEARS <em>NULL</em> 75.666667 50 median <em>ALL</em> Y YEARS <em>NULL</em> 77.500000 51 min <em>ALL</em> Y YEARS <em>NULL</em> 51.000000 52 stdev <em>ALL</em> Y YEARS <em>NULL</em> 8.286051 53 percent F Y <em>NULL</em> SEX 59.523810 54 percent M Y <em>NULL</em> SEX 40.476190 55 count <em>ALL</em> Y <em>NULL</em> <em>ALL</em> 84.000000 56 count F Y <em>NULL</em> <em>ALL</em> 50.000000 57 count M Y <em>NULL</em> <em>ALL</em> 34.000000 58 max <em>ALL</em> Y KG <em>NULL</em> 106.100000 59 mean <em>ALL</em> Y KG <em>NULL</em> 67.279518 60 median <em>ALL</em> Y KG <em>NULL</em> 64.900000 61 min <em>ALL</em> Y KG <em>NULL</em> 45.400000 62 stdev <em>ALL</em> Y KG <em>NULL</em> 14.123599 63 percent <em>ALL</em> Y <em>NULL</em> RACE 0.000000 64 count <em>ALL</em> Y <em>NULL</em> <em>ALL</em> 0.000000 65 percent <em>ALL</em> Y <em>NULL</em> RACE 7.142857 66 count <em>ALL</em> Y <em>NULL</em> <em>ALL</em> 6.000000 67 percent <em>ALL</em> Y <em>NULL</em> RACE 92.857143 68 count <em>ALL</em> Y <em>NULL</em> <em>ALL</em> 78.000000</p>
<pre class="sourceCode r"><code class="sourceCode r">## dmtableFile&lt;- system.file(&quot;extdata/sample-cfg&quot;, &quot;dm.AR.csv&quot;, package=&quot;rrdfqbcrnd0&quot;)
dmtableFile&lt;-<span class="st"> </span><span class="kw">file.path</span>(<span class="kw">tempdir</span>(),<span class="st">&quot;temp-dm.AR.csv&quot;</span>)

<span class="kw">write.csv</span>(adsl.summ.stat, <span class="dt">file=</span>dmtableFile, <span class="dt">row.names=</span><span class="ot">FALSE</span>)</code></pre>
</div>
<div id="compare-results-from-sql-with-the-input-previously-generated" class="section level3">
<h3>Compare results from SQL with the input / previously generated</h3>
<pre class="sourceCode r"><code class="sourceCode r">colorder&lt;-<span class="st"> </span><span class="kw">c</span>( <span class="st">&quot;saffl&quot;</span>, <span class="st">&quot;trt01a&quot;</span>, <span class="st">&quot;race&quot;</span>, <span class="st">&quot;sex&quot;</span>, <span class="st">&quot;procedure&quot;</span>, <span class="st">&quot;factor&quot;</span>, <span class="st">&quot;denominator&quot;</span>, <span class="st">&quot;unit&quot;</span>, <span class="st">&quot;measure&quot;</span>)

<span class="co"># dmtablecompareFile&lt;- system.file(&quot;extdata/sample-cfg&quot;, &quot;dm-prev.AR.csv&quot;, package=&quot;rrdfqbcrnd0&quot;)</span>
dmtablecompareFile&lt;-<span class="st"> </span><span class="kw">system.file</span>(<span class="st">&quot;extdata/sample-cfg&quot;</span>, <span class="st">&quot;dm.AR.csv&quot;</span>, <span class="dt">package=</span><span class="st">&quot;rrdfqbcrnd0&quot;</span>)

dmtable&lt;-<span class="st"> </span><span class="kw">read.csv</span>(dmtablecompareFile,<span class="dt">stringsAsFactors=</span><span class="ot">FALSE</span>)
<span class="kw">names</span>(dmtable)&lt;-<span class="kw">tolower</span>(<span class="kw">names</span>(dmtable))
## str(dmtable)
Sort &lt;-<span class="st"> </span>function(DF) DF[<span class="kw">do.call</span>(order, DF),]
fromCSV.for.all.equal&lt;-<span class="st"> </span><span class="kw">Sort</span>(dmtable[,colorder])
## str(adsl.summ.stat)
xadsl.summ.stat&lt;-<span class="st"> </span>adsl.summ.stat[,colorder]
fromSQL.for.all.equal&lt;-<span class="st"> </span><span class="kw">Sort</span>(xadsl.summ.stat[ , <span class="kw">intersect</span>(<span class="kw">names</span>(fromCSV.for.all.equal),<span class="kw">names</span>(xadsl.summ.stat)) ])
<span class="kw">all.equal</span>(fromCSV.for.all.equal, fromSQL.for.all.equal, <span class="dt">check.attributes =</span> <span class="ot">FALSE</span>)</code></pre>
<p>[1] TRUE</p>
<pre class="sourceCode r"><code class="sourceCode r">compare&lt;-<span class="kw">merge</span>(fromSQL.for.all.equal, fromCSV.for.all.equal,<span class="dt">by=</span><span class="kw">setdiff</span>(colorder,<span class="st">&quot;measure&quot;</span>),<span class="dt">all=</span><span class="ot">TRUE</span>)
## simple criteria - should also include relative difference
compare$isequal&lt;-<span class="st"> </span><span class="kw">abs</span>(compare$measure.x -<span class="st"> </span>compare$measure.y ) &lt;<span class="st"> </span><span class="fl">1e-6</span>
compare</code></pre>
<p>saffl trt01a race sex 1 Y <em>ALL</em> <em>ALL</em> F 2 Y <em>ALL</em> <em>ALL</em> M 3 Y <em>ALL</em> AMERICAN INDIAN OR ALASKA NATIVE <em>ALL</em> 4 Y <em>ALL</em> BLACK OR AFRICAN AMERICAN <em>ALL</em> 5 Y <em>ALL</em> WHITE <em>ALL</em> 6 Y Placebo <em>ALL</em> <em>ALL</em> 7 Y Placebo <em>ALL</em> <em>ALL</em> 8 Y Placebo <em>ALL</em> <em>ALL</em> 9 Y Placebo <em>ALL</em> <em>ALL</em> 10 Y Placebo <em>ALL</em> <em>ALL</em> 11 Y Placebo <em>ALL</em> <em>ALL</em> 12 Y Placebo <em>ALL</em> <em>ALL</em> 13 Y Placebo <em>ALL</em> <em>ALL</em> 14 Y Placebo <em>ALL</em> <em>ALL</em> 15 Y Placebo <em>ALL</em> <em>ALL</em> 16 Y Placebo <em>ALL</em> <em>ALL</em> 17 Y Placebo <em>ALL</em> F 18 Y Placebo <em>ALL</em> F 19 Y Placebo <em>ALL</em> M 20 Y Placebo <em>ALL</em> M 21 Y Placebo AMERICAN INDIAN OR ALASKA NATIVE <em>ALL</em> 22 Y Placebo AMERICAN INDIAN OR ALASKA NATIVE <em>ALL</em> 23 Y Placebo BLACK OR AFRICAN AMERICAN <em>ALL</em> 24 Y Placebo BLACK OR AFRICAN AMERICAN <em>ALL</em> 25 Y Placebo WHITE <em>ALL</em> 26 Y Placebo WHITE <em>ALL</em> 27 Y Xanomeline High Dose <em>ALL</em> <em>ALL</em> 28 Y Xanomeline High Dose <em>ALL</em> <em>ALL</em> 29 Y Xanomeline High Dose <em>ALL</em> <em>ALL</em> 30 Y Xanomeline High Dose <em>ALL</em> <em>ALL</em> 31 Y Xanomeline High Dose <em>ALL</em> <em>ALL</em> 32 Y Xanomeline High Dose <em>ALL</em> <em>ALL</em> 33 Y Xanomeline High Dose <em>ALL</em> <em>ALL</em> 34 Y Xanomeline High Dose <em>ALL</em> <em>ALL</em> 35 Y Xanomeline High Dose <em>ALL</em> <em>ALL</em> 36 Y Xanomeline High Dose <em>ALL</em> <em>ALL</em> 37 Y Xanomeline High Dose <em>ALL</em> <em>ALL</em> 38 Y Xanomeline High Dose <em>ALL</em> F 39 Y Xanomeline High Dose <em>ALL</em> F 40 Y Xanomeline High Dose <em>ALL</em> M 41 Y Xanomeline High Dose <em>ALL</em> M 42 Y Xanomeline High Dose AMERICAN INDIAN OR ALASKA NATIVE <em>ALL</em> 43 Y Xanomeline High Dose AMERICAN INDIAN OR ALASKA NATIVE <em>ALL</em> 44 Y Xanomeline High Dose BLACK OR AFRICAN AMERICAN <em>ALL</em> 45 Y Xanomeline High Dose BLACK OR AFRICAN AMERICAN <em>ALL</em> 46 Y Xanomeline High Dose WHITE <em>ALL</em> 47 Y Xanomeline High Dose WHITE <em>ALL</em> 48 Y Xanomeline Low Dose <em>ALL</em> <em>ALL</em> 49 Y Xanomeline Low Dose <em>ALL</em> <em>ALL</em> 50 Y Xanomeline Low Dose <em>ALL</em> <em>ALL</em> 51 Y Xanomeline Low Dose <em>ALL</em> <em>ALL</em> 52 Y Xanomeline Low Dose <em>ALL</em> <em>ALL</em> 53 Y Xanomeline Low Dose <em>ALL</em> <em>ALL</em> 54 Y Xanomeline Low Dose <em>ALL</em> <em>ALL</em> 55 Y Xanomeline Low Dose <em>ALL</em> <em>ALL</em> 56 Y Xanomeline Low Dose <em>ALL</em> <em>ALL</em> 57 Y Xanomeline Low Dose <em>ALL</em> <em>ALL</em> 58 Y Xanomeline Low Dose <em>ALL</em> <em>ALL</em> 59 Y Xanomeline Low Dose <em>ALL</em> F 60 Y Xanomeline Low Dose <em>ALL</em> F 61 Y Xanomeline Low Dose <em>ALL</em> M 62 Y Xanomeline Low Dose <em>ALL</em> M 63 Y Xanomeline Low Dose AMERICAN INDIAN OR ALASKA NATIVE <em>ALL</em> 64 Y Xanomeline Low Dose AMERICAN INDIAN OR ALASKA NATIVE <em>ALL</em> 65 Y Xanomeline Low Dose BLACK OR AFRICAN AMERICAN <em>ALL</em> 66 Y Xanomeline Low Dose BLACK OR AFRICAN AMERICAN <em>ALL</em> 67 Y Xanomeline Low Dose WHITE <em>ALL</em> 68 Y Xanomeline Low Dose WHITE <em>ALL</em> procedure factor denominator unit measure.x measure.y isequal 1 count quantity <em>ALL</em> <em>NULL</em> 143.000000 143.000000 TRUE 2 count quantity <em>ALL</em> <em>NULL</em> 111.000000 111.000000 TRUE 3 count quantity <em>ALL</em> <em>NULL</em> 1.000000 1.000000 TRUE 4 count quantity <em>ALL</em> <em>NULL</em> 23.000000 23.000000 TRUE 5 count quantity <em>ALL</em> <em>NULL</em> 230.000000 230.000000 TRUE 6 count quantity <em>ALL</em> <em>NULL</em> 86.000000 86.000000 TRUE 7 max AGE <em>NULL</em> YEARS 89.000000 89.000000 TRUE 8 max WEIGHTBL <em>NULL</em> KG 86.200000 86.200000 TRUE 9 mean AGE <em>NULL</em> YEARS 75.209302 75.209302 TRUE 10 mean WEIGHTBL <em>NULL</em> KG 62.759302 62.759302 TRUE 11 median AGE <em>NULL</em> YEARS 76.000000 76.000000 TRUE 12 median WEIGHTBL <em>NULL</em> KG 60.550000 60.550000 TRUE 13 min AGE <em>NULL</em> YEARS 52.000000 52.000000 TRUE 14 min WEIGHTBL <em>NULL</em> KG 34.000000 34.000000 TRUE 15 stdev AGE <em>NULL</em> YEARS 8.590167 8.590167 TRUE 16 stdev WEIGHTBL <em>NULL</em> KG 12.771544 12.771544 TRUE 17 count quantity <em>ALL</em> <em>NULL</em> 53.000000 53.000000 TRUE 18 percent proportion SEX <em>NULL</em> 61.627907 61.627907 TRUE 19 count quantity <em>ALL</em> <em>NULL</em> 33.000000 33.000000 TRUE 20 percent proportion SEX <em>NULL</em> 38.372093 38.372093 TRUE 21 count quantity <em>ALL</em> <em>NULL</em> 0.000000 0.000000 TRUE 22 percent proportion RACE <em>NULL</em> 0.000000 0.000000 TRUE 23 count quantity <em>ALL</em> <em>NULL</em> 8.000000 8.000000 TRUE 24 percent proportion RACE <em>NULL</em> 9.302326 9.302326 TRUE 25 count quantity <em>ALL</em> <em>NULL</em> 78.000000 78.000000 TRUE 26 percent proportion RACE <em>NULL</em> 90.697674 90.697674 TRUE 27 count quantity <em>ALL</em> <em>NULL</em> 84.000000 84.000000 TRUE 28 max AGE <em>NULL</em> YEARS 88.000000 88.000000 TRUE 29 max WEIGHTBL <em>NULL</em> KG 108.000000 108.000000 TRUE 30 mean AGE <em>NULL</em> YEARS 74.380952 74.380952 TRUE 31 mean WEIGHTBL <em>NULL</em> KG 70.004762 70.004762 TRUE 32 median AGE <em>NULL</em> YEARS 76.000000 76.000000 TRUE 33 median WEIGHTBL <em>NULL</em> KG 69.200000 69.200000 TRUE 34 min AGE <em>NULL</em> YEARS 56.000000 56.000000 TRUE 35 min WEIGHTBL <em>NULL</em> KG 41.700000 41.700000 TRUE 36 stdev AGE <em>NULL</em> YEARS 7.886094 7.886094 TRUE 37 stdev WEIGHTBL <em>NULL</em> KG 14.653433 14.653433 TRUE 38 count quantity <em>ALL</em> <em>NULL</em> 40.000000 40.000000 TRUE 39 percent proportion SEX <em>NULL</em> 47.619048 47.619048 TRUE 40 count quantity <em>ALL</em> <em>NULL</em> 44.000000 44.000000 TRUE 41 percent proportion SEX <em>NULL</em> 52.380952 52.380952 TRUE 42 count quantity <em>ALL</em> <em>NULL</em> 1.000000 1.000000 TRUE 43 percent proportion RACE <em>NULL</em> 1.190476 1.190476 TRUE 44 count quantity <em>ALL</em> <em>NULL</em> 9.000000 9.000000 TRUE 45 percent proportion RACE <em>NULL</em> 10.714286 10.714286 TRUE 46 count quantity <em>ALL</em> <em>NULL</em> 74.000000 74.000000 TRUE 47 percent proportion RACE <em>NULL</em> 88.095238 88.095238 TRUE 48 count quantity <em>ALL</em> <em>NULL</em> 84.000000 84.000000 TRUE 49 max AGE <em>NULL</em> YEARS 88.000000 88.000000 TRUE 50 max WEIGHTBL <em>NULL</em> KG 106.100000 106.100000 TRUE 51 mean AGE <em>NULL</em> YEARS 75.666667 75.666667 TRUE 52 mean WEIGHTBL <em>NULL</em> KG 67.279518 67.279518 TRUE 53 median AGE <em>NULL</em> YEARS 77.500000 77.500000 TRUE 54 median WEIGHTBL <em>NULL</em> KG 64.900000 64.900000 TRUE 55 min AGE <em>NULL</em> YEARS 51.000000 51.000000 TRUE 56 min WEIGHTBL <em>NULL</em> KG 45.400000 45.400000 TRUE 57 stdev AGE <em>NULL</em> YEARS 8.286051 8.286051 TRUE 58 stdev WEIGHTBL <em>NULL</em> KG 14.123599 14.123599 TRUE 59 count quantity <em>ALL</em> <em>NULL</em> 50.000000 50.000000 TRUE 60 percent proportion SEX <em>NULL</em> 59.523810 59.523810 TRUE 61 count quantity <em>ALL</em> <em>NULL</em> 34.000000 34.000000 TRUE 62 percent proportion SEX <em>NULL</em> 40.476190 40.476190 TRUE 63 count quantity <em>ALL</em> <em>NULL</em> 0.000000 0.000000 TRUE 64 percent proportion RACE <em>NULL</em> 0.000000 0.000000 TRUE 65 count quantity <em>ALL</em> <em>NULL</em> 6.000000 6.000000 TRUE 66 percent proportion RACE <em>NULL</em> 7.142857 7.142857 TRUE 67 count quantity <em>ALL</em> <em>NULL</em> 78.000000 78.000000 TRUE 68 percent proportion RACE <em>NULL</em> 92.857143 92.857143 TRUE</p>
</div>
</div>
</div>



<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
